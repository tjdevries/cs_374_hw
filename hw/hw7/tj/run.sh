#!/bin/bash

make

if [[ 1 ]]; then
    echo "--------------------------------------------------------------------------------"
    echo "                          MPI: With one processor"
    echo "--------------------------------------------------------------------------------"
    mpirun -np 1 ./mpiArraySum /home/cs/374/homework/07/10m.txt

    echo "--------------------------------------------------------------------------------"
    echo "                          MPI: With four processor"
    echo "--------------------------------------------------------------------------------"
    mpirun -np 4 ./mpiArraySum /home/cs/374/homework/07/10m.txt
fi

if [[ 1 ]]; then
    echo "--------------------------------------------------------------------------------"
    echo "                          OMP: With one processor"
    echo "--------------------------------------------------------------------------------"
    export OMP_NUM_THREADS=1
    ./ompArraySum /home/cs/374/homework/07/10m.txt

    echo "--------------------------------------------------------------------------------"
    echo "                          OMP: With four processor"
    echo "--------------------------------------------------------------------------------"
    export OMP_NUM_THREADS=4
    ./mpiArraySum /home/cs/374/homework/07/10m.txt
fi

